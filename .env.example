# ==============================================================================
# SecureShare - Configuration Environnement
# ==============================================================================
# IMPORTANT: Copier ce fichier en .env et remplir les valeurs
# Ne JAMAIS commiter le fichier .env (contient des secrets!)

# ==============================================================================
# ENVIRONNEMENT
# ==============================================================================
ENVIRONMENT=development  # development | staging | production
DEBUG=true
LOG_LEVEL=DEBUG  # DEBUG | INFO | WARNING | ERROR | CRITICAL

# ==============================================================================
# BACKEND API
# ==============================================================================
SECRET_KEY=change-me-in-production-minimum-32-characters-long
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# ==============================================================================
# DATABASE (PostgreSQL)
# ==============================================================================
DATABASE_URL=postgresql://secureshare:devpassword@localhost:5432/secureshare
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# ==============================================================================
# REDIS (Cache & Rate Limiting)
# ==============================================================================
REDIS_URL=redis://:redispassword@localhost:6379/0
REDIS_MAX_CONNECTIONS=50

# ==============================================================================
# STORAGE (MinIO / AWS S3)
# ==============================================================================
STORAGE_TYPE=minio  # minio | s3
MINIO_ENDPOINT=localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET=secureshare-files
MINIO_QUARANTINE_BUCKET=secureshare-quarantine
MINIO_SECURE=false  # true en production avec TLS

# AWS S3 (si STORAGE_TYPE=s3)
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET=secureshare-files
# S3_QUARANTINE_BUCKET=secureshare-quarantine

# ==============================================================================
# HASHICORP VAULT (Secrets Management)
# ==============================================================================
VAULT_ADDR=http://localhost:8200
VAULT_TOKEN=dev-root-token  # À remplacer en production
VAULT_NAMESPACE=
VAULT_TRANSIT_KEY_NAME=file-encryption

# ==============================================================================
# ANTIVIRUS (ClamAV)
# ==============================================================================
ANTIVIRUS_ENABLED=true
CLAMAV_HOST=localhost
CLAMAV_PORT=3310
CLAMAV_TIMEOUT=120  # secondes

# ==============================================================================
# SECURITE
# ==============================================================================
# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_GLOBAL_PER_MINUTE=100
RATE_LIMIT_UPLOAD_PER_HOUR=10
RATE_LIMIT_DOWNLOAD_PER_HOUR=50

# File Upload
MAX_FILE_SIZE_MB=100
ALLOWED_MIME_TYPES=application/pdf,image/jpeg,image/png,image/gif,application/zip,application/x-zip-compressed,text/plain,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document

# Token & Expiration
TOKEN_LENGTH=32  # bytes (256 bits)
DEFAULT_TTL_HOURS=24
MAX_TTL_HOURS=48

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,OPTIONS
CORS_ALLOW_HEADERS=*

# ==============================================================================
# FRONTEND
# ==============================================================================
VITE_API_URL=http://localhost:8000
VITE_MAX_FILE_SIZE_MB=100
VITE_RECAPTCHA_SITE_KEY=  # Si utilisation reCAPTCHA

# ==============================================================================
# MONITORING & LOGS
# ==============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# Sentry (Error tracking - optionnel)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=development

# ==============================================================================
# EMAIL (Alertes - optionnel)
# ==============================================================================
SMTP_ENABLED=false
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=alerts@example.com
SMTP_PASSWORD=your-smtp-password
SMTP_FROM=noreply@secureshare.example.com
SMTP_TLS=true
ALERT_EMAIL=security@example.com

# ==============================================================================
# RGPD & CONFORMITE
# ==============================================================================
DPO_EMAIL=dpo@example.com
PRIVACY_POLICY_URL=https://secureshare.example.com/privacy
TERMS_OF_SERVICE_URL=https://secureshare.example.com/terms

# ==============================================================================
# KUBERNETES / PRODUCTION (ignoré en dev)
# ==============================================================================
# KUBERNETES_SERVICE_HOST=
# DATABASE_SSL_MODE=require
# REDIS_SSL=true
# MINIO_SECURE=true
